<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="description" content="Ateneo Blue Repertory - The premier musical theatre organization of Ateneo de Manila University">
    <meta name="keywords" content="blueREP, Ateneo, musical theatre, theater, Philippines">
    <meta name="author" content="Ateneo Blue Repertory">
    <title>Ateneo Blue Repertory - Premier Musical Theatre Organization</title>
    
    <!-- Favicon -->
            <link rel="icon" type="image/png" href="/assets/black_favicon.png">
        <link rel="shortcut icon" type="image/png" href="/assets/black_favicon.png">
        <link rel="apple-touch-icon" href="/assets/black_favicon.png">
        <link rel="icon" type="image/png" href="/assets/black_favicon.png">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Fonts (Fallback to Inter) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        /* Font Family Definitions */
        .font-fjalla {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .font-lehigh {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            letter-spacing: -0.01em;
        }
        
        .font-proxima {
            font-family: 'Inter', sans-serif;
            font-weight: 500;
        }
        
        .font-proxima-bold {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }
        
        .font-proxima-semibold {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
        }
    </style>
    
    <!-- Custom Styles -->
    <style>
        /* Custom CSS Variables */
        :root {
            --bluerep-blue: #0e143c;
            --light-purple: #ededf7;
            --gradient: linear-gradient(135deg, #5E6BC0 0%, #1A174D 100%);
        }
        
        /* Base Styles with Cross-Browser Support */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            /* iOS Safari viewport height fix */
            height: 100vh;
            height: -webkit-fill-available;
            height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
            /* Ensure proper box sizing */
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--bluerep-blue);
            overflow-x: hidden;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            /* iOS Safari safe area support */
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
            /* Ensure proper rendering */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Custom Typography */
        .font-fjalla {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }
        
        .font-lehigh {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
        }
        
        .font-proxima {
            font-family: 'Inter', sans-serif;
        }
        
        /* Custom Colors */
        .bg-bluerep-blue {
            background-color: var(--bluerep-blue);
        }
        
        .bg-light-purple {
            background-color: var(--light-purple);
        }
        
        .text-bluerep-blue {
            color: var(--bluerep-blue);
        }
        
        .bg-gradient {
            background: var(--gradient);
        }
        
        /* Navigation Styles */
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
            font-weight: 600;
            -webkit-transition: color 0.3s ease;
            -moz-transition: color 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 3px;
            background: #0e143c;
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            -moz-transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .nav-link.active {
            background-color: #0e143c !important;
            color: #ededf7 !important;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease;
            -moz-transition: all 0.3s ease;
        }
        
        .nav-link.active::after {
            display: none;
        }
        
        /* Navbar styling */
        #navbar {
            background: transparent;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        #navbar.scrolled {
            background: #ededf7;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Mobile Menu - Enhanced Cross-Browser Support */
        .mobile-menu {
            transform: translateX(100%);
            -webkit-transform: translateX(100%);
            -moz-transform: translateX(100%);
            -ms-transform: translateX(100%);
            transition: transform 0.4s ease-in-out;
            -webkit-transition: transform 0.4s ease-in-out;
            -moz-transition: transform 0.4s ease-in-out;
            -o-transition: transform 0.4s ease-in-out;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            /* Enhanced viewport height handling */
            height: 100vh !important;
            height: 100dvh !important;
            height: -webkit-fill-available !important;
            height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom)) !important;
            min-height: 100vh !important;
            min-height: 100dvh !important;
            min-height: -webkit-fill-available !important;
            width: 100vw !important;
            width: 100dvw !important;
            right: 0;
            top: 0;
            display: -webkit-flex;
            display: -moz-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-flex-direction: column;
            -moz-flex-direction: column;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-justify-content: flex-start;
            -moz-justify-content: flex-start;
            -ms-flex-pack: start;
            justify-content: flex-start;
            -webkit-align-items: flex-start;
            -moz-align-items: flex-start;
            -ms-flex-align: start;
            align-items: flex-start;
            /* Enhanced safe area support */
            padding: 1.5rem;
            padding-top: calc(1.5rem + env(safe-area-inset-top));
            padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
            padding-left: calc(1.5rem + env(safe-area-inset-left));
            padding-right: calc(1.5rem + env(safe-area-inset-right));
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            position: fixed;
            z-index: 9999;
            /* Ensure proper stacking context */
            -webkit-transform-style: preserve-3d;
            -moz-transform-style: preserve-3d;
            transform-style: preserve-3d;
            /* Prevent scrolling on body when menu is open */
            overflow: hidden;
        }
        
        .mobile-menu.open {
            transform: translateX(0);
            -webkit-transform: translateX(0);
            -moz-transform: translateX(0);
            -ms-transform: translateX(0);
        }
        
        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            background-color: rgba(0, 0, 0, 0.9);
            transition: opacity 0.3s ease-in-out;
            -webkit-transition: opacity 0.3s ease-in-out;
            -moz-transition: opacity 0.3s ease-in-out;
        }
        
        .mobile-menu-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* Mobile Menu Content Styling */
        .mobile-menu-content {
            width: 100%;
            height: 100%;
            display: -webkit-flex;
            display: -moz-flex;
            display: flex;
            -webkit-flex-direction: column;
            -moz-flex-direction: column;
            flex-direction: column;
            -webkit-justify-content: flex-start;
            -moz-justify-content: flex-start;
            justify-content: flex-start;
            -webkit-align-items: flex-start;
            -moz-align-items: flex-start;
            align-items: flex-start;
        }
        
        .mobile-menu-header {
            width: 100%;
            display: -webkit-flex;
            display: -moz-flex;
            display: flex;
            -webkit-justify-content: space-between;
            -moz-justify-content: space-between;
            justify-content: space-between;
            -webkit-align-items: center;
            -moz-align-items: center;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mobile-menu-nav {
            width: 100%;
            display: -webkit-flex;
            display: -moz-flex;
            display: flex;
            -webkit-flex-direction: column;
            -moz-flex-direction: column;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .mobile-menu-nav a {
            color: white !important;
            text-decoration: none;
            font-size: 1.125rem;
            font-weight: 500;
            letter-spacing: 0.025em;
            padding: 1rem 0;
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease;
            -moz-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            opacity: 0;
            transform: translateX(20px);
            -webkit-transform: translateX(20px);
            -moz-transform: translateX(20px);
            -ms-transform: translateX(20px);
            animation: slideInLink 0.4s ease-out forwards;
            -webkit-animation: slideInLink 0.4s ease-out forwards;
            -moz-animation: slideInLink 0.4s ease-out forwards;
            /* Enhanced touch target size */
            min-height: 44px;
            min-width: 44px;
            display: -webkit-flex;
            display: -moz-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-align-items: center;
            -moz-align-items: center;
            -ms-flex-align: center;
            align-items: center;
            /* Ensure text is always visible */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            /* Better touch feedback */
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Ensure links are visible when menu is open */
        .mobile-menu.open .mobile-menu-nav a {
            opacity: 1 !important;
            transform: translateX(0) !important;
            -webkit-transform: translateX(0) !important;
            -moz-transform: translateX(0) !important;
            -ms-transform: translateX(0) !important;
        }
        
        .mobile-menu-nav a:nth-child(1) { 
            animation-delay: 0.1s; 
            -webkit-animation-delay: 0.1s; 
            -moz-animation-delay: 0.1s; 
        }
        .mobile-menu-nav a:nth-child(2) { 
            animation-delay: 0.2s; 
            -webkit-animation-delay: 0.2s; 
            -moz-animation-delay: 0.2s; 
        }
        .mobile-menu-nav a:nth-child(3) { 
            animation-delay: 0.3s; 
            -webkit-animation-delay: 0.3s; 
            -moz-animation-delay: 0.3s; 
        }
        .mobile-menu-nav a:nth-child(4) { 
            animation-delay: 0.4s; 
            -webkit-animation-delay: 0.4s; 
            -moz-animation-delay: 0.4s; 
        }
        .mobile-menu-nav a:nth-child(5) { 
            animation-delay: 0.5s; 
            -webkit-animation-delay: 0.5s; 
            -moz-animation-delay: 0.5s; 
        }
        
        .mobile-menu-nav a:hover {
            color: #ededf7 !important;
            transform: translateX(10px);
            -webkit-transform: translateX(10px);
            -moz-transform: translateX(10px);
            border-bottom-color: rgba(255, 255, 255, 0.2);
        }
        
        /* Enhanced Close Button with Better Touch Target */
        .mobile-menu-close {
            background: none;
            border: none;
            color: white !important;
            padding: 0.75rem;
            border-radius: 50%;
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease;
            -moz-transition: all 0.3s ease;
            -o-transition: all 0.3s ease;
            cursor: pointer;
            display: -webkit-flex;
            display: -moz-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-align-items: center;
            -moz-align-items: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-justify-content: center;
            -moz-justify-content: center;
            -ms-flex-pack: center;
            justify-content: center;
            /* Enhanced touch target size */
            min-width: 44px;
            min-height: 44px;
            /* Better visual feedback */
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            /* Ensure visibility */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            /* Better contrast */
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .mobile-menu-close:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
            -webkit-transform: scale(1.1);
            -moz-transform: scale(1.1);
        }
        
        .mobile-menu-close:active {
            transform: scale(0.95);
            -webkit-transform: scale(0.95);
            -moz-transform: scale(0.95);
        }
        
        /* Enhanced Mobile Menu Button */
        #mobile-menu-btn {
            min-width: 44px;
            min-height: 44px;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        @keyframes slideInLink {
            to {
                opacity: 1;
                transform: translateX(0);
                -webkit-transform: translateX(0);
                -moz-transform: translateX(0);
            }
        }
        
        @-webkit-keyframes slideInLink {
            to {
                opacity: 1;
                -webkit-transform: translateX(0);
            }
        }
        
        @-moz-keyframes slideInLink {
            to {
                opacity: 1;
                -moz-transform: translateX(0);
            }
        }
        
        /* Mobile News Carousel Styles */
        @media (max-width: 767px) {
            #news-track {
                display: -webkit-flex;
                display: -moz-flex;
                display: flex;
                width: 100%;
                margin: 0;
                padding: 0;
            }
            
            #news-track > div {
                -webkit-flex-shrink: 0;
                -moz-flex-shrink: 0;
                flex-shrink: 0;
                width: 100vw;
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
            }
            
            #news-track > div:not(:first-child) {
                margin-left: 0;
            }
            
            /* Ensure navigation buttons are visible on mobile */
            #news-prev,
            #news-next {
                opacity: 1 !important;
                background-color: rgba(255, 255, 255, 0.9) !important;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.3);
                /* Improved touch targets */
                min-width: 44px;
                min-height: 44px;
            }
            
            #news-prev:hover,
            #news-next:hover {
                background-color: rgba(255, 255, 255, 1) !important;
                transform: translateY(-50%) scale(1.1) !important;
                -webkit-transform: translateY(-50%) scale(1.1) !important;
                -moz-transform: translateY(-50%) scale(1.1) !important;
            }
        }
        
        /* iOS Safari Specific Fixes */
        @supports (-webkit-touch-callout: none) {
            .mobile-menu {
                height: -webkit-fill-available !important;
                min-height: -webkit-fill-available !important;
                height: 100dvh !important;
                min-height: 100dvh !important;
            }
            
            body {
                min-height: -webkit-fill-available;
                min-height: 100dvh;
            }
            
            html {
                height: -webkit-fill-available;
                height: 100dvh;
            }
        }
        
        /* Firefox Specific Fixes */
        @-moz-document url-prefix() {
            .mobile-menu {
                height: 100vh !important;
                min-height: 100vh !important;
                width: 100vw !important;
            }
        }
        
        /* Safari Specific Fixes */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            .mobile-menu {
                height: 100vh !important;
                min-height: 100vh !important;
                height: 100dvh !important;
                min-height: 100dvh !important;
            }
        }
        
        /* Edge/IE Specific Fixes */
        @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
            .mobile-menu {
                height: 100vh !important;
                min-height: 100vh !important;
                width: 100vw !important;
            }
        }
        
        /* High DPI Display Support */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .mobile-menu-close svg,
            #mobile-menu-btn svg {
                -webkit-transform: translateZ(0);
                -moz-transform: translateZ(0);
                -ms-transform: translateZ(0);
                transform: translateZ(0);
            }
        }
        
        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            .mobile-menu,
            .mobile-menu-nav a,
            .mobile-menu-close,
            .mobile-menu-overlay {
                transition: none !important;
                -webkit-transition: none !important;
                -moz-transition: none !important;
                animation: none !important;
                -webkit-animation: none !important;
                -moz-animation: none !important;
            }
        }
        
        /* Hero Section */
        .hero-gradient {
            background: linear-gradient(135deg, #5E6BC0 0%, #1A174D 100%);
            position: relative;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
        }
        
        .hero-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 20%, rgba(14, 20, 60, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(14, 20, 60, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(14, 20, 60, 0.08) 0%, transparent 70%);
            animation: spotlight 8s ease-in-out infinite alternate;
        }
        
        @keyframes spotlight {
            0% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.1);
            }
            100% {
                opacity: 0.3;
                transform: scale(1);
            }
        }
        
        .hero-content {
            position: relative;
            z-index: 10;
        }
        
        .hero-title {
            max-width: 100%;
            height: auto;
            margin-bottom: 2rem;
            margin-top: -8rem;
            filter: drop-shadow(0 4px 8px rgba(14, 20, 60, 0.2));
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-tagline {
            font-size: clamp(1.125rem, 4vw, 1.5rem);
            line-height: 1.4;
            margin-bottom: 2.5rem;
            margin-top: -2rem;
            opacity: 0.9;
            text-shadow: 0 2px 4px rgba(14, 20, 60, 0.3), 0 1px 2px rgba(0, 0, 0, 0.5);
            color: #ffffff !important;
            /* Ensure text is always visible */
            font-weight: 600;
            letter-spacing: 0.02em;
        }
        
        .hero-cta {
            background: var(--bluerep-blue);
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1.125rem;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid var(--bluerep-blue);
            box-shadow: 0 4px 16px rgba(14, 20, 60, 0.3);
        }
        
        .hero-cta:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 8px 32px rgba(14, 20, 60, 0.4), 0 0 0 4px rgba(14, 20, 60, 0.1);
            background: white;
            color: var(--bluerep-blue);
        }
        
        .hero-cta:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        /* Poster Grid Styles */
        .poster-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 8rem;
            padding: 4rem;
            width: 100%;
            height: 100%;
        }
        
        .poster-item {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .poster-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
            filter: blur(8px) brightness(0.7);
            opacity: 0.4;
            transition: all 0.3s ease;
        }
        
        /* Responsive Poster Grid */
        @media (max-width: 1024px) {
            .poster-grid {
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(3, 1fr);
                gap: 6rem;
                padding: 3rem;
            }
        }
        
        @media (max-width: 768px) {
            .poster-grid {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: repeat(4, 1fr);
                gap: 4rem;
                padding: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .poster-grid {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: repeat(4, 1fr);
                gap: 2rem;
                padding: 1rem;
            }
            
            .poster-image {
                filter: blur(6px) brightness(0.8);
            }
        }
        
        /* Button Styles */
        .btn-primary {
            background: var(--bluerep-blue);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid var(--bluerep-blue);
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary:hover {
            background: transparent;
            color: var(--bluerep-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(14, 20, 60, 0.2);
        }
        
        .btn-secondary {
            background: transparent;
            color: #0e143c;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid #0e143c;
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-secondary:hover {
            background: #0e143c;
            color: #ededf7;
            transform: translateY(-2px);
        }
        
        /* Show Cards */
        .show-card {
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .show-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(14, 20, 60, 0.15);
        }
        
        .show-image {
            width: 100%;
            height: 200px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Focus Styles */
        button:focus,
        a:focus {
            outline: 2px solid var(--light-purple);
            outline-offset: 2px;
        }
        
        /* Responsive Images */
        .responsive-img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        
        /* Section Spacing */
        section {
            padding: 60px 0;
        }
        
        @media (min-width: 768px) {
            section {
                padding: 80px 0;
            }
        }
        
        @media (min-width: 1024px) {
            section {
                padding: 100px 0;
            }
        }
        
        /* Fullscreen Carousel Styles */
        #moments-carousel {
            scroll-behavior: smooth;
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }
        
        #moments-track {
            display: flex;
            transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        /* Fullscreen image fitting */
        #moments-carousel img {
            object-fit: cover;
            object-position: center;
            width: 100%;
            height: 100%;
        }
        
        /* Fullscreen slide dimensions */
        #moments-track > div {
            flex-shrink: 0;
            width: 100vw;
            height: 100vh;
            margin: 0;
            padding: 0;
            position: relative;
        }
        
        /* Responsive text sizing for overlaid content */
        @media (max-width: 640px) {
            #moments-carousel .text-3xl {
                font-size: 1.5rem;
                line-height: 2rem;
            }
            
            #moments-carousel .text-lg {
                font-size: 1rem;
                line-height: 1.5rem;
            }
        }
        
        @media (min-width: 641px) and (max-width: 1024px) {
            #moments-carousel .text-5xl {
                font-size: 2.5rem;
                line-height: 3rem;
            }
            
            #moments-carousel .text-xl {
                font-size: 1.25rem;
                line-height: 1.75rem;
            }
        }
        
        .carousel-dot {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-dot:hover {
            transform: scale(1.2);
        }
        
        .carousel-dot.active {
            background-color: var(--bluerep-blue);
            transform: scale(1.1);
        }
        
        /* Carousel navigation buttons */
        #carousel-prev,
        #carousel-next {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        
        #carousel-prev:hover,
        #carousel-next:hover {
            background-color: white;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            #moments-carousel {
                border-radius: 1rem;
            }
            
            #carousel-prev,
            #carousel-next {
                padding: 0.5rem;
            }
            
            #carousel-prev svg,
            #carousel-next svg {
                width: 1.25rem;
                height: 1.25rem;
            }
        }
        
        /* Touch-friendly carousel */
        @media (hover: none) {
            #carousel-prev,
            #carousel-next {
                opacity: 1;
                background-color: rgba(255, 255, 255, 0.9);
            }
        }
        
        /* News Carousel Styles */
        #news-carousel {
            scroll-behavior: smooth;
        }
        
        /* Disable touch scrolling on mobile for news carousel */
        @media (max-width: 767px) {
            #news-carousel {
                touch-action: none;
                -webkit-overflow-scrolling: auto;
            }
            
            #news-track {
                touch-action: none;
                -webkit-overflow-scrolling: auto;
            }
            
            /* Always show navigation arrows on mobile */
            #news-prev,
            #news-next {
                opacity: 1 !important;
            }
        }
        
        #news-track {
            display: flex;
            transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .news-carousel-dot {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .news-carousel-dot:hover {
            transform: scale(1.2);
        }
        
        .news-carousel-dot.active {
            background-color: var(--bluerep-blue);
            transform: scale(1.1);
        }
        
        /* News carousel navigation buttons */
        #news-prev,
        #news-next {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            color: #0e143c !important;
        }
        
        #news-prev:hover,
        #news-next:hover {
            background-color: white;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Mobile optimizations for news carousel */
        @media (max-width: 768px) {
            #news-carousel {
                border-radius: 1rem;
            }
            
            #news-prev,
            #news-next {
                padding: 0.5rem;
            }
            
            #news-prev svg,
            #news-next svg {
                width: 1.25rem;
                height: 1.25rem;
            }
        }
        
        /* News card hover effects - desktop only */
        @media (hover: hover) {
            .news-card:hover {
                transform: scale(1.02);
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            }
            
            .news-card:hover .hover\\:text-blue-800 {
                color: #1e40af;
            }
            
            .news-card:hover .hover\\:text-gray-700 {
                color: #374151;
            }
            
            .news-card:hover .hover\\:translate-x-1 {
                transform: translateX(0.25rem);
            }
            
            .news-card:hover .hover\\:opacity-100 {
                opacity: 1;
            }
        }
        
        /* Touch-friendly news carousel */
        @media (hover: none) {
            #news-prev,
            #news-next {
                opacity: 1;
                background-color: rgba(255, 255, 255, 0.9);
            }
            
            /* Disable all hover effects on touch devices */
            .news-card:hover {
                transform: none;
                box-shadow: none;
            }
            
            .news-card:hover .hover\\:text-blue-800 {
                color: inherit;
            }
            
            .news-card:hover .hover\\:text-gray-700 {
                color: inherit;
            }
            
            .news-card:hover .hover\\:translate-x-1 {
                transform: none;
            }
            
            .news-card:hover .hover\\:opacity-100 {
                opacity: 0;
            }
        }
        
        /* Moments section overlaid text styles */
        #moments .backdrop-blur-sm {
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }
        
        /* Ensure text is always readable */
        #moments .text-white {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            color: #ffffff !important;
        }
        
        #moments .drop-shadow-lg {
            filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
        }
        
        /* Responsive text container */
        @media (max-width: 768px) {
            #moments .max-w-md {
                max-width: 90vw;
            }
            
            #moments .p-8 {
                padding: 1rem;
            }
            
            #moments .md\:p-12 {
                padding: 1rem;
            }
        }
        
        /* Enhanced arrow visibility */
        #carousel-prev,
        #carousel-next {
            background-color: rgba(255, 255, 255, 0.3) !important;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: #ffffff !important;
        }
        
        #carousel-prev:hover,
        #carousel-next:hover {
            background-color: rgba(255, 255, 255, 0.5) !important;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Ensure carousel track handles full-width slides properly */
        #moments {
            margin: 0;
            padding: 0;
        }
        
        #moments-track {
            display: flex;
            width: 100%;
            height: 100%;
        }
        
        #moments-track .w-screen {
            flex-shrink: 0;
            width: 100vw;
        }
        
        /* Ensure no gaps or overlaps between slides */
        #moments-track > div:not(:first-child) {
            margin-left: 0;
        }
        
        /* Force exact viewport width */
        #moments-carousel,
        #moments-track,
        #moments-track > div {
            box-sizing: border-box;
        }
        
        /* Line clamp utility for text truncation */
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Enhanced text visibility and readability */
        .text-white {
            color: #ffffff !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .text-black {
            color: #000000 !important;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
        }
        
        /* Ensure footer text is always visible */
        footer .text-white {
            color: #ffffff !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        footer a {
            color: #ffffff !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        /* Enhanced button visibility */
        .btn-primary,
        .btn-secondary {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            font-weight: 600;
        }
        
        /* Ensure navigation text is visible */
        .nav-link {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        /* Enhanced carousel text visibility */
        #carousel-prev,
        #carousel-next {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        #news-prev,
        #news-next {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* Ensure all headings are visible */
        h1, h2, h3, h4, h5, h6 {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        /* Enhanced mobile menu text */
        .mobile-menu-nav a {
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
            font-weight: 600;
        }
        
        .mobile-menu-close {
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
        }
        
        /* Fallback for when animations are disabled or fail */
        @media (prefers-reduced-motion: reduce) {
            .mobile-menu-nav a {
                opacity: 1 !important;
                transform: translateX(0) !important;
                -webkit-transform: translateX(0) !important;
                -moz-transform: translateX(0) !important;
                -ms-transform: translateX(0) !important;
                animation: none !important;
                -webkit-animation: none !important;
                -moz-animation: none !important;
            }
        }
        
        /* Additional fallback for browsers that don't support animations */
        .mobile-menu-nav a {
            /* Fallback opacity in case animation doesn't work */
            opacity: 0;
        }
        
        .mobile-menu.open .mobile-menu-nav a {
            opacity: 1 !important;
        }
    </style>
</head>
<body>
    <!-- Top anchor for logo navigation -->
    <div id="top"></div>
    
    <!-- Header/Navigation -->
    <header id="navbar" class="sticky top-0 z-50 transition-all duration-300">
        <nav class="w-full px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html#top" class="cursor-pointer">
                        <img src="/assets/blue_logo.svg" alt="blueREP Logo" class="h-16 w-auto">
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link font-proxima-semibold text-bluerep-blue hover:text-gray-700 transition-colors">Home</a>
                    <a href="about.html" class="nav-link font-proxima-semibold text-bluerep-blue hover:text-gray-700 transition-colors">About</a>
                    <a href="tickets.html" class="nav-link font-proxima-semibold text-bluerep-blue hover:text-gray-700 transition-colors">Tickets</a>
                    <a href="productions.html" class="nav-link font-proxima-semibold text-bluerep-blue hover:text-gray-700 transition-colors">Productions</a>
                    <a href="merchandise.html" class="nav-link font-proxima-semibold text-bluerep-blue hover:text-gray-700 transition-colors">Merchandise</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden p-2 text-bluerep-blue" aria-label="Toggle mobile menu" type="button" aria-expanded="false" aria-controls="mobile-menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
        
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu-overlay" class="mobile-menu-overlay md:hidden fixed inset-0 bg-black bg-opacity-50 z-40 pointer-events-none opacity-0 transition-opacity duration-300" aria-hidden="true"></div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu md:hidden fixed top-0 right-0 h-full w-64 shadow-lg z-50" role="dialog" aria-modal="true" aria-label="Mobile navigation menu">
            <div class="mobile-menu-content">
                <div class="mobile-menu-header">
                    <a href="index.html#top" class="cursor-pointer" aria-label="Go to homepage">
                        <img src="/assets/white_logo.svg" alt="blueREP Logo" class="h-10 w-auto">
                    </a>
                    <button id="close-menu-btn" class="mobile-menu-close" aria-label="Close mobile menu" type="button">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <nav class="mobile-menu-nav" role="navigation" aria-label="Mobile navigation">
                    <a href="index.html" aria-label="Go to homepage">Home</a>
                    <a href="about.html" aria-label="Go to about page">About</a>
                    <a href="tickets.html" aria-label="Go to tickets page">Tickets</a>
                    <a href="productions.html" aria-label="Go to productions page">Productions</a>
                    <a href="merchandise.html" aria-label="Go to merchandise page">Merchandise</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero-gradient min-h-screen flex items-center justify-center text-bluerep-blue relative overflow-hidden">
        <!-- Background Poster Grid -->
        <div class="absolute inset-0 poster-grid">
            <div class="poster-item">
                <img src="/assets/card_1.jpg" alt="Show Card 1" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_2.jpg" alt="Show Card 2" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_3.jpg" alt="Show Card 3" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_4.jpg" alt="Show Card 4" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_5.jpg" alt="Show Card 5" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_6.jpg" alt="Show Card 6" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_7.jpg" alt="Show Card 7" class="poster-image">
            </div>
            <div class="poster-item">
                <img src="/assets/card_8.jpg" alt="Show Card 8" class="poster-image">
            </div>
        </div>
        
        <!-- Semi-transparent Overlay -->
        <div class="absolute inset-0 bg-black bg-opacity-30 z-5"></div>
        
        <!-- Foreground Content -->
        <div class="container mx-auto px-4 text-center relative z-10 flex items-center justify-center min-h-screen">
            <div class="hero-content fade-in">
                <img src="/assets/white_hero_title.png" alt="Ateneo Blue Repertory" class="hero-title mb-4 max-w-full h-auto mx-auto block">
                <p class="hero-tagline font-lehigh max-w-4xl mx-auto" style="color: #ffffff; margin-top: 0rem;">
                    BE ANYTHING, BE BLUEREP
                </p>
            </div>
        </div>
    </section>

    <!-- News and Updates Section -->
    <section id="news" class="bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-3xl md:text-4xl font-lehigh text-bluerep-blue mb-4">
                    News and Updates
                </h2>
                <p class="text-lg font-proxima text-gray-600 max-w-2xl mx-auto">
                    Stay updated with the latest news, announcements, and behind-the-scenes content from blueREP.
                </p>
            </div>
            
            <!-- News Carousel Container -->
            <div class="relative max-w-6xl mx-auto">
                <!-- Background Overlay -->
                <div class="absolute inset-0 bg-gradient-to-br from-bluerep-blue/60 to-purple-900/60 rounded-3xl -m-20 z-0" style="min-height: 400px;"></div>
                
                <!-- Carousel Container -->
                <div class="relative z-10 group">
                    <!-- Carousel Track -->
                    <div id="news-carousel" class="relative overflow-hidden rounded-2xl shadow-2xl">
                        <div id="news-track" class="flex transition-transform duration-700 ease-in-out">
                            <!-- Dynamic content will be loaded here -->
                            <div class="flex justify-center items-center py-16 w-full">
                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-bluerep-blue"></div>
                            </div>
                        </div>
                        
                        <!-- Navigation Arrows -->
                        <button id="news-prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-bluerep-blue p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-10 opacity-0 group-hover:opacity-100 md:opacity-0 md:group-hover:opacity-100">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        
                        <button id="news-next" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-bluerep-blue p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-10 opacity-0 group-hover:opacity-100 md:opacity-0 md:group-hover:opacity-100">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                        
                        <!-- Overlay for hover effect -->
                        <div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </div>
                    
                    <!-- Dot Indicators -->
                    <div id="news-dots" class="flex justify-center mt-6 space-x-2">
                        <!-- Dynamic dots will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

            <!-- Moments Section -->
        <section id="moments" class="relative h-screen overflow-hidden">
            <!-- Fullscreen Carousel Container -->
            <div id="moments-carousel" class="relative overflow-hidden h-full w-screen">
                <div id="moments-track" class="flex transition-transform duration-700 ease-in-out h-full">
                    <!-- Dynamic content will be loaded here -->
                    <div class="flex justify-center items-center w-full h-full">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
                    </div>
                </div>
                
                <!-- Overlaid Text -->
                <div class="absolute top-0 left-0 z-20 p-8 md:p-12">
                    <div class="backdrop-blur-sm rounded-2xl p-6 md:p-8 max-w-md" style="background: linear-gradient(to right, rgba(94, 107, 192, 0.6), rgba(26, 23, 77, 0.6));">
                        <h2 class="text-2xl md:text-4xl lg:text-5xl font-lehigh text-white mb-3 md:mb-4">
                            Moments
                        </h2>
                        <p class="text-sm md:text-lg font-proxima text-gray-200 leading-relaxed">
                            Captured memories from our past events and productions.
                        </p>
                    </div>
                </div>
                
                <!-- Navigation Arrows -->
                <button id="carousel-prev" class="absolute left-4 md:left-8 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/40 text-white p-3 md:p-4 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 z-10 opacity-100">
                    <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                
                <button id="carousel-next" class="absolute right-4 md:right-8 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/40 text-white p-3 md:p-4 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 z-10 opacity-100">
                    <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
                
                <!-- Dot Indicators -->
                <div id="carousel-dots" class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20">
                    <!-- Dynamic dots will be loaded here -->
                </div>
                
                <!-- Hover overlay for navigation -->
                <div class="absolute inset-0 bg-gradient-to-t from-purple-600/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10"></div>
            </div>
        </section>

    <!-- Buy Tickets CTA Section -->
    <section id="tickets-cta" class="bg-gradient-to-r from-bluerep-blue to-purple-900 text-white relative overflow-hidden">
        <!-- Background Pattern -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute inset-0" style="background-image: radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 0%, transparent 50%);"></div>
        </div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-4xl mx-auto text-center fade-in py-16">
                <h2 class="text-3xl md:text-4xl font-lehigh mb-6 text-black">
                    Upcoming Shows and Events
                </h2>
                <p class="text-lg md:text-xl font-proxima mb-8 leading-relaxed opacity-90 text-black">
                    Our public productions are open to all, while select events are exclusive to the Ateneo communitybe sure to check each event for details!
                </p>
                
                <!-- Events Grid -->
                <div id="events-grid" class="mb-12">
                    <div class="flex justify-center items-center py-8">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
                    </div>
                </div>
                

                <div class="mt-6">
                    <a href="productions.html" 
                       class="text-black font-proxima-semibold text-lg hover:text-gray-700 transition-colors duration-300 underline decoration-2 underline-offset-4">
                        View Past Productions 
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section id="contact" class="bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-12 fade-in">
                    <h2 class="text-3xl md:text-4xl font-lehigh text-bluerep-blue mb-4">
                        Get In Touch
                    </h2>
                    <p class="text-lg font-proxima text-gray-600 max-w-2xl mx-auto">
                        Have questions about our productions, auditions, or want to get involved? We'd love to hear from you!
                    </p>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-8 shadow-lg fade-in">
                    <form id="contact-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="first-name" class="block text-sm font-proxima-semibold text-gray-700 mb-2">First Name *</label>
                                <input type="text" id="first-name" name="first_name" required 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bluerep-blue focus:border-transparent font-proxima">
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-proxima-semibold text-gray-700 mb-2">Last Name *</label>
                                <input type="text" id="last-name" name="last_name" required 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bluerep-blue focus:border-transparent font-proxima">
                            </div>
                        </div>
                        
                        <div>
                            <label for="email" class="block text-sm font-proxima-semibold text-gray-700 mb-2">Email Address *</label>
                            <input type="email" id="email" name="email" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bluerep-blue focus:border-transparent font-proxima">
                        </div>
                        
                        <div>
                            <label for="subject" class="block text-sm font-proxima-semibold text-gray-700 mb-2">Subject *</label>
                            <select id="subject" name="subject" required 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bluerep-blue focus:border-transparent font-proxima">
                                <option value="">Select a subject</option>
                                <option value="general">General Inquiry</option>
                                <option value="auditions">Auditions</option>
                                <option value="tickets">Ticket Information</option>
                                <option value="volunteer">Volunteer Opportunities</option>
                                <option value="partnership">Partnership</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="message" class="block text-sm font-proxima-semibold text-gray-700 mb-2">Message *</label>
                            <textarea id="message" name="message" rows="5" required 
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bluerep-blue focus:border-transparent font-proxima resize-none"></textarea>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" 
                                    class="bg-bluerep-blue text-white px-8 py-4 rounded-lg font-proxima-semibold text-lg hover:bg-blue-800 transition-all duration-300 transform hover:scale-105 shadow-lg">
                                Send Message
                            </button>
                        </div>
                        
                        <div id="form-status" class="hidden text-center p-4 rounded-lg"></div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white" style="background: linear-gradient(135deg, #5E6BC0 0%, #1A174D 100%); position: relative;">
        <div class="container mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Logo and Description -->
                <div class="text-center md:text-left">
                    <img src="/assets/footer_white.png" alt="blueREP Logo" class="h-24 w-auto mb-4 mx-auto md:mx-0">
                    <p class="font-proxima text-white opacity-90">
                        The premier musical theatre organization of Ateneo de Manila University
                    </p>
                </div>
                
                <!-- Empty column for spacing -->
                <div></div>
                
                <!-- Contact Info -->
                <div class="text-center md:text-left">
                    <h4 class="text-lg font-lehigh mb-4">Contact</h4>
                    <div class="font-proxima text-white opacity-90 space-y-2">
                        <p>Email: <a href="mailto:bluerep.house@gmail.com" class="hover:text-white transition-colors">bluerep.house@gmail.com</a></p>
                        <p>MVP 301, Manuel V. Pangilinan Building</p>
                        <p>Ateneo de Manila University</p>
                        <p>Katipunan Road, Quezon City, Philippines</p>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Bar -->
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="font-proxima text-white opacity-75">
                     2025 Ateneo Blue Repertory. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile Menu Toggle with Enhanced Cross-Browser Support
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        
        // Enhanced cross-browser event handling
        function addCrossBrowserEventListener(element, event, handler, options = {}) {
            if (element) {
                element.addEventListener(event, handler, options);
                // Add touch events for mobile
                if (event === 'click') {
                    element.addEventListener('touchstart', handler, { ...options, passive: false });
                }
            }
        }
        
        // Event listeners with enhanced cross-browser support
        if (mobileMenuBtn) {
            addCrossBrowserEventListener(mobileMenuBtn, 'click', toggleMobileMenu);
        }
        
        if (closeMenuBtn) {
            addCrossBrowserEventListener(closeMenuBtn, 'click', closeMobileMenu);
        }
        
        // Close mobile menu when clicking on overlay
        if (mobileMenuOverlay) {
            addCrossBrowserEventListener(mobileMenuOverlay, 'click', closeMobileMenu);
        }
        
        // Close mobile menu when clicking on links
        const mobileMenuLinks = mobileMenu.querySelectorAll('a');
        mobileMenuLinks.forEach(link => {
            addCrossBrowserEventListener(link, 'click', () => {
                setTimeout(closeMobileMenu, 100);
            });
        });
        
        // Close mobile menu on window resize (if screen becomes desktop)
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768 && mobileMenu.classList.contains('open')) {
                closeMobileMenu();
            }
        });
        
        function toggleMobileMenu() {
            const isOpen = mobileMenu.classList.contains('open');
            console.log('Toggle mobile menu - isOpen:', isOpen);
            
            if (isOpen) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        }
        
        function openMobileMenu() {
            console.log('Opening mobile menu');
            mobileMenu.classList.add('open');
            mobileMenuOverlay.classList.add('active');
            mobileMenuBtn.setAttribute('aria-expanded', 'true');
            mobileMenuOverlay.setAttribute('aria-hidden', 'false');
            
            // Enhanced body scroll prevention
            const scrollY = window.scrollY;
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;
            document.body.style.width = '100%';
            
            // Store scroll position for restoration
            document.body.dataset.scrollY = scrollY;
            
            // Focus management for accessibility
            setTimeout(() => {
                closeMenuBtn.focus();
            }, 100);
            
            // Trap focus within the menu
            mobileMenu.addEventListener('keydown', handleMenuKeydown);
            
            // Force visibility of menu links
            const menuLinks = mobileMenu.querySelectorAll('.mobile-menu-nav a');
            menuLinks.forEach(link => {
                link.style.opacity = '1';
                link.style.transform = 'translateX(0)';
            });
        }
        
        function closeMobileMenu() {
            console.log('Closing mobile menu');
            mobileMenu.classList.remove('open');
            mobileMenuOverlay.classList.remove('active');
            mobileMenuBtn.setAttribute('aria-expanded', 'false');
            mobileMenuOverlay.setAttribute('aria-hidden', 'true');
            
            // Enhanced body scroll restoration
            const scrollY = document.body.dataset.scrollY;
            document.body.style.overflow = '';
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            
            if (scrollY) {
                window.scrollTo(0, parseInt(scrollY));
            }
            
            // Return focus to menu button
            setTimeout(() => {
                mobileMenuBtn.focus();
            }, 100);
            
            // Remove focus trap
            mobileMenu.removeEventListener('keydown', handleMenuKeydown);
        }
        
        function handleMenuKeydown(event) {
            const focusableElements = mobileMenu.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];
            
            if (event.key === 'Escape') {
                closeMobileMenu();
            } else if (event.key === 'Tab') {
                if (event.shiftKey) {
                    if (document.activeElement === firstElement) {
                        event.preventDefault();
                        lastElement.focus();
                    }
                } else {
                    if (document.activeElement === lastElement) {
                        event.preventDefault();
                        firstElement.focus();
                    }
                }
            }
        }
        
        // Smooth scrolling for navigation links
        const navLinks = document.querySelectorAll('a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    const headerHeight = document.querySelector('header').offsetHeight;
                    const targetPosition = targetSection.offsetTop - headerHeight;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);
        
        // Observe all fade-in elements
        const fadeElements = document.querySelectorAll('.fade-in');
        fadeElements.forEach(element => {
            observer.observe(element);
        });
        
        // Active navigation highlighting
        function updateActiveNav() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.clientHeight;
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        }
        
        window.addEventListener('scroll', updateActiveNav);
        
        // Initialize active nav on page load
        updateActiveNav();
        
        // Set active page in navigation
        function setActivePage() {
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href === currentPage) {
                    link.classList.add('active');
                }
            });
        }
        
        // Set active page on load
        setActivePage();
        
        // Sticky navbar scroll behavior
        const navbar = document.getElementById('navbar');
        let lastScrollTop = 0;
        
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
            
            lastScrollTop = scrollTop;
        });
        
        // Add loading animation for hero section
        window.addEventListener('load', function() {
            const heroContent = document.querySelector('#home .fade-in');
            if (heroContent) {
                setTimeout(() => {
                    heroContent.classList.add('visible');
                }, 100);
            }
        });
        
        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeMobileMenu();
            }
        });
        
        // Touch-friendly interactions
        let touchStartY = 0;
        let touchEndY = 0;
        
        document.addEventListener('touchstart', function(e) {
            touchStartY = e.changedTouches[0].screenY;
        });
        
        document.addEventListener('touchend', function(e) {
            touchEndY = e.changedTouches[0].screenY;
            handleSwipe();
        });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartY - touchEndY;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe up - could be used for navigation
                } else {
                    // Swipe down - could be used for navigation
                }
            }
        }
        
        // Supabase Integration
        const SUPABASE_URL = 'https://mkyvwkwkvqibelypmuaw.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1reXZ3a3drdnFpYmVseXBtdWF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwNjM5MzYsImV4cCI6MjA2OTYzOTkzNn0.1VVp26cZ-HbO_dr0Bpxjqa6D-ruay0DCn16v91p2kCM';
        
        // Load Moments/Shows from Supabase
        async function loadMoments() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/shows?select=title,year,image_url,image_alt&archived=eq.false&order=year.desc`, {
                    method: 'GET',
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });
                
                if (response.ok) {
                    const shows = await response.json();
                    displayMoments(shows);
                } else {
                    const errorText = await response.text();
                    console.error('Failed to load moments:', response.status, errorText);
                    displayMoments([]); // Show empty state
                }
            } catch (error) {
                console.error('Error loading moments:', error);
                displayMoments([]); // Show empty state
            }
        }
        
        // Carousel state
        let currentSlide = 0;
        let autoPlayInterval;
        let touchStartX = 0;
        let touchEndX = 0;
        
        // Display Moments as Fullscreen Carousel
        function displayMoments(shows) {
            const momentsTrack = document.getElementById('moments-track');
            const carouselDots = document.getElementById('carousel-dots');
            
            if (!momentsTrack || !carouselDots) return;
            
            if (shows.length === 0) {
                momentsTrack.innerHTML = `
                    <div class="w-full h-full flex justify-center items-center">
                        <div class="text-center text-white">
                            <div class="text-6xl mb-4"></div>
                            <p class="text-gray-300 font-proxima text-lg">No moments to display at the moment.</p>
                        </div>
                    </div>
                `;
                carouselDots.innerHTML = '';
                return;
            }
            
            // Create fullscreen slides (one image per slide)
            const slides = shows.map((show, index) => `
                <div class="w-screen h-full flex-shrink-0 relative">
                    <!-- Background Image -->
                    <div class="absolute inset-0">
                        <img src="${show.image_url || '/assets/card_' + (index + 1) + '.jpg'}" 
                             alt="${show.image_alt || show.title}" 
                             class="w-full h-full object-cover object-center"
                             loading="lazy"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        
                        <!-- Fallback content if image fails to load -->
                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-bluerep-blue to-purple-800 text-white" style="display: none;">
                            <div class="text-center p-6">
                                <div class="text-6xl mb-4"></div>
                                <h3 class="text-2xl font-lehigh mb-2">${show.title}</h3>
                                <p class="text-lg font-proxima opacity-90">${show.year}</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dark overlay for better text readability -->
                    <div class="absolute inset-0 bg-black/30"></div>
                    
                    <!-- Content overlay -->
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center text-white max-w-4xl mx-auto px-8">
                            <h3 class="text-3xl md:text-5xl lg:text-6xl font-lehigh mb-4 md:mb-6 drop-shadow-lg">
                                ${show.title}
                            </h3>
                            <p class="text-lg md:text-xl lg:text-2xl font-proxima opacity-90 drop-shadow-lg">
                                ${show.year}
                            </p>
                        </div>
                    </div>
                </div>
            `);
            
            momentsTrack.innerHTML = slides;
            
            // Create dot indicators only if there are multiple slides
            if (slides.length > 1) {
                const dots = slides.map((_, index) => `
                    <button class="carousel-dot w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-white' : 'bg-white/50 hover:bg-white/70'}" 
                            data-slide="${index}">
                    </button>
                `).join('');
                
                carouselDots.innerHTML = dots;
                
                // Initialize carousel only if there are multiple slides
                initializeCarousel(slides.length);
            } else {
                // Hide dots and navigation if only one slide
                carouselDots.innerHTML = '';
                const prevBtn = document.getElementById('carousel-prev');
                const nextBtn = document.getElementById('carousel-next');
                if (prevBtn) prevBtn.style.display = 'none';
                if (nextBtn) nextBtn.style.display = 'none';
            }
        }
        
        // Initialize carousel functionality
        function initializeCarousel(totalSlides) {
            const track = document.getElementById('moments-track');
            const prevBtn = document.getElementById('carousel-prev');
            const nextBtn = document.getElementById('carousel-next');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (!track || totalSlides <= 1) return;
            
            // Set initial position
            currentSlide = 0;
            updateCarousel();
            
            // Event listeners for navigation
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateCarousel();
                    resetAutoPlay();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateCarousel();
                    resetAutoPlay();
                });
            }
            
            // Dot navigation
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentSlide = index;
                    updateCarousel();
                    resetAutoPlay();
                });
            });
            
            // Touch/swipe support for mobile
            track.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            track.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateCarousel();
                    resetAutoPlay();
                } else if (e.key === 'ArrowRight') {
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateCarousel();
                    resetAutoPlay();
                }
            });
            
            // Start auto-play
            startAutoPlay();
        }
        
        // Update carousel position and indicators
        function updateCarousel() {
            const track = document.getElementById('moments-track');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (!track) return;
            
            // Update track position - each slide is 100vw wide
            track.style.transform = `translateX(-${currentSlide * 100}vw)`;
            
            // Update dot indicators
            dots.forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.add('bg-white');
                    dot.classList.remove('bg-white/50', 'bg-white/70');
                } else {
                    dot.classList.remove('bg-white');
                    dot.classList.add('bg-white/50');
                }
            });
        }
        
        // Handle swipe gestures
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe left - next slide
                    const nextBtn = document.getElementById('carousel-next');
                    if (nextBtn) nextBtn.click();
                } else {
                    // Swipe right - previous slide
                    const prevBtn = document.getElementById('carousel-prev');
                    if (prevBtn) prevBtn.click();
                }
            }
        }
        
        // Auto-play functionality
        function startAutoPlay() {
            const totalSlides = document.querySelectorAll('.carousel-dot').length;
            if (totalSlides <= 1) return;
            
            autoPlayInterval = setInterval(() => {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateCarousel();
            }, 4500); // 4.5 second delay
        }
        
        function resetAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                startAutoPlay();
            }
        }
        
        function stopAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
            }
        }
        
        // Load News Articles from Supabase
        async function loadNews() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/news_articles?select=title,excerpt,category,category_color,published_date,read_more_url&published=eq.true&order=published_date.desc`, {
                    method: 'GET',
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });
                
                if (response.ok) {
                    const articles = await response.json();
                    displayNews(articles);
                } else {
                    const errorText = await response.text();
                    console.error('Failed to load news:', response.status, errorText);
                    displayNews([]); // Show empty state
                }
            } catch (error) {
                console.error('Error loading news:', error);
                displayNews([]); // Show empty state
            }
        }
        
        // Load Events from Supabase
        async function loadEvents() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/events?select=id,name,description,date,time,location,image_url,tag,registration_link,created_at&order=date.asc`, {
                    method: 'GET',
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });
                
                if (response.ok) {
                    const events = await response.json();
                    displayEvents(events);
                } else {
                    const errorText = await response.text();
                    console.error('Failed to load events:', response.status, errorText);
                    displayEvents([]); // Show empty state
                }
            } catch (error) {
                console.error('Error loading events:', error);
                displayEvents([]); // Show empty state
            }
        }
        
        // Display Events
        function displayEvents(events) {
            const eventsGrid = document.getElementById('events-grid');
            
            if (!eventsGrid) return;
            
            if (events.length === 0) {
                eventsGrid.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-6xl mb-4"></div>
                        <p class="text-black font-proxima text-lg opacity-90">
                            There are no upcoming shows or events at the moment.
                        </p>
                    </div>
                `;
                return;
            }
            
            // Create responsive grid of event cards
            const eventsHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    ${events.map(event => {
                        const eventDate = new Date(event.date).toLocaleDateString('en-US', {
                            weekday: 'long',
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                        });
                        
                        const eventTime = event.time ? new Date(`2000-01-01T${event.time}`).toLocaleTimeString('en-US', {
                            hour: 'numeric',
                            minute: '2-digit',
                            hour12: true
                        }) : '';
                        
                        // Truncate description to 3 lines
                        const truncatedDescription = event.description && event.description.length > 150 
                            ? event.description.substring(0, 150) + '...' 
                            : event.description;
                        
                        return `
                            <div class="bg-white rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                                ${event.image_url ? `
                                    <div class="relative h-48 overflow-hidden">
                                        <img src="${event.image_url}" 
                                             alt="${event.name}" 
                                             class="w-full h-full object-cover object-center"
                                             loading="lazy"
                                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                        <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-bluerep-blue to-purple-800 text-white" style="display: none;">
                                            <div class="text-center">
                                                <div class="text-4xl mb-2"></div>
                                                <p class="text-sm font-proxima">${event.name}</p>
                                            </div>
                                        </div>
                                    </div>
                                ` : `
                                    <div class="h-48 bg-gradient-to-br from-bluerep-blue to-purple-800 flex items-center justify-center">
                                        <div class="text-center text-white">
                                            <div class="text-4xl mb-2"></div>
                                            <p class="text-sm font-proxima">${event.name}</p>
                                        </div>
                                    </div>
                                `}
                                
                                <div class="p-6 flex flex-col h-full">
                                    <div class="flex-grow">
                                        <h3 class="text-xl font-lehigh text-black mb-3">${event.name}</h3>
                                        
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-gray-700 text-sm">
                                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                                </svg>
                                                <span>${eventDate}</span>
                                            </div>
                                            
                                            ${eventTime ? `
                                                <div class="flex items-center text-gray-700 text-sm">
                                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                    </svg>
                                                    <span>${eventTime}</span>
                                                </div>
                                            ` : ''}
                                            
                                            ${event.location ? `
                                                <div class="flex items-center text-gray-700 text-sm">
                                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                    </svg>
                                                    <span>${event.location}</span>
                                                </div>
                                            ` : ''}
                                        </div>
                                        
                                        ${truncatedDescription ? `
                                            <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-3">
                                                ${truncatedDescription}
                                            </p>
                                        ` : ''}
                                    </div>
                                    
                                    <div class="mt-auto pt-4">
                                        ${event.tag === 'show' ? `
                                            <a href="tickets.html" 
                                               class="inline-flex items-center justify-center w-full bg-bluerep-blue text-white px-4 py-2 rounded-lg font-proxima-semibold text-sm hover:bg-blue-800 transition-all duration-300 transform hover:scale-105">
                                                Buy Tickets
                                                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                                </svg>
                                            </a>
                                        ` : event.tag === 'custom' && event.registration_link ? `
                                            <a href="${event.registration_link}" 
                                               target="_blank" 
                                               rel="noopener noreferrer"
                                               class="inline-flex items-center justify-center w-full bg-green-600 text-white px-4 py-2 rounded-lg font-proxima-semibold text-sm hover:bg-green-700 transition-all duration-300 transform hover:scale-105">
                                                Register
                                                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                                </svg>
                                            </a>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
            
            eventsGrid.innerHTML = eventsHTML;
        }
        
        // News carousel state
        let currentNewsSlide = 0;
        let newsAutoPlayInterval;
        let newsTouchStartX = 0;
        let newsTouchEndX = 0;
        
        // Display News Articles as Carousel
        function displayNews(articles) {
            const newsTrack = document.getElementById('news-track');
            const newsDots = document.getElementById('news-dots');
            
            if (!newsTrack || !newsDots) return;
            
            if (articles.length === 0) {
                newsTrack.innerHTML = `
                    <div class="w-full flex justify-center items-center py-16">
                        <div class="text-center">
                            <div class="text-6xl mb-4"></div>
                            <h3 class="text-xl font-lehigh text-bluerep-blue mb-4">We're brewing something behind the curtain.</h3>
                            <p class="text-gray-600 font-proxima">Stay tuned!</p>
                        </div>
                    </div>
                `;
                newsDots.innerHTML = '';
                return;
            }
            
            // Check if we're on mobile (screen width < 768px)
            const isMobile = window.innerWidth < 768;
            
            if (isMobile) {
                // Mobile: Create individual slides (1 card per slide)
                const slides = articles.map((article, index) => {
                    const date = new Date(article.published_date).toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    
                    return `
                        <div class="w-full flex-shrink-0 px-4">
                            <a href="${article.read_more_url || '#'}" class="block relative news-card cursor-pointer">
                                <div class="relative h-80 overflow-hidden rounded-xl bg-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                                    <div class="absolute inset-0 bg-gradient-to-br from-bluerep-blue/5 to-purple-900/5"></div>
                                    
                                    <!-- Article Content -->
                                    <div class="relative h-full flex flex-col justify-center p-6">
                                        <div class="flex items-center mb-4">
                                            <span class="${article.category_color} text-white text-xs font-proxima-semibold px-2 py-1 rounded-full">${article.category}</span>
                                            <span class="text-gray-500 text-xs font-proxima ml-2">${date}</span>
                                        </div>
                                        
                                        <h3 class="text-lg font-lehigh text-bluerep-blue mb-3 leading-tight hover:text-blue-800 transition-colors duration-300">${article.title}</h3>
                                
                                        <p class="text-gray-600 font-proxima mb-4 text-sm leading-relaxed hover:text-gray-700 transition-colors duration-300">
                                            ${article.excerpt}
                                        </p>
                                    
                                        <div class="mt-auto">
                                            <span class="inline-flex items-center text-bluerep-blue font-proxima-semibold text-sm hover:text-blue-800 transition-colors duration-300">
                                                Read More 
                                                <svg class="w-4 h-4 ml-1 hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <!-- Hover overlay -->
                                    <div class="absolute inset-0 bg-gradient-to-t from-bluerep-blue/10 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                </div>
                            </a>
                        </div>
                    `;
                });
                
                newsTrack.innerHTML = slides.join('');
                
                // Create dot indicators only if there are multiple articles
                if (articles.length > 1) {
                    const dots = articles.map((_, index) => `
                        <button class="news-carousel-dot w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-bluerep-blue' : 'bg-gray-300 hover:bg-gray-400'}" 
                                data-slide="${index}">
                        </button>
                    `).join('');
                    
                    newsDots.innerHTML = dots;
                    
                    // Initialize news carousel only if there are multiple articles
                    initializeNewsCarousel(articles.length);
                } else {
                    // Hide dots and navigation if only one article
                    newsDots.innerHTML = '';
                    const prevBtn = document.getElementById('news-prev');
                    const nextBtn = document.getElementById('news-next');
                    if (prevBtn) prevBtn.style.display = 'none';
                    if (nextBtn) nextBtn.style.display = 'none';
                }
            } else {
                // Desktop: Create slides with 3 cards per slide
                const slides = [];
                for (let i = 0; i < articles.length; i += 3) {
                    const slideArticles = articles.slice(i, i + 3);
                    const slide = `
                        <div class="w-full flex-shrink-0 relative">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                                ${slideArticles.map((article, index) => {
                                    const date = new Date(article.published_date).toLocaleDateString('en-US', {
                                        year: 'numeric',
                                        month: 'long',
                                        day: 'numeric'
                                    });
                                    
                                    return `
                                        <a href="${article.read_more_url || '#'}" class="block relative news-card cursor-pointer">
                                            <div class="relative h-64 md:h-80 overflow-hidden rounded-xl bg-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                                                <div class="absolute inset-0 bg-gradient-to-br from-bluerep-blue/5 to-purple-900/5"></div>
                                                
                                                <!-- Article Content -->
                                                <div class="relative h-full flex flex-col justify-center p-4 md:p-6">
                                                    <div class="flex items-center mb-4">
                                                        <span class="${article.category_color} text-white text-xs font-proxima-semibold px-2 py-1 rounded-full">${article.category}</span>
                                                        <span class="text-gray-500 text-xs font-proxima ml-2">${date}</span>
                                                    </div>
                                                    
                                                    <h3 class="text-lg font-lehigh text-bluerep-blue mb-3 leading-tight hover:text-blue-800 transition-colors duration-300">${article.title}</h3>
                                
                                                    <p class="text-gray-600 font-proxima mb-4 text-sm leading-relaxed hover:text-gray-700 transition-colors duration-300">
                                                        ${article.excerpt}
                                                    </p>
                                            
                                                    <div class="mt-auto">
                                                        <span class="inline-flex items-center text-bluerep-blue font-proxima-semibold text-sm hover:text-blue-800 transition-colors duration-300">
                                                            Read More 
                                                            <svg class="w-4 h-4 ml-1 hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </div>
                                                
                                                <!-- Hover overlay -->
                                                <div class="absolute inset-0 bg-gradient-to-t from-bluerep-blue/10 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                            </div>
                                        </a>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    `;
                    slides.push(slide);
                }
                
                newsTrack.innerHTML = slides;
                
                // Create dot indicators only if there are multiple slides
                if (slides.length > 1) {
                    const dots = slides.map((_, index) => `
                        <button class="news-carousel-dot w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? 'bg-bluerep-blue' : 'bg-gray-300 hover:bg-gray-400'}" 
                                data-slide="${index}">
                        </button>
                    `).join('');
                    
                    newsDots.innerHTML = dots;
                    
                    // Initialize news carousel only if there are multiple slides
                    initializeNewsCarousel(slides.length);
                } else {
                    // Hide dots and navigation if only one slide
                    newsDots.innerHTML = '';
                    const prevBtn = document.getElementById('news-prev');
                    const nextBtn = document.getElementById('news-next');
                    if (prevBtn) prevBtn.style.display = 'none';
                    if (nextBtn) nextBtn.style.display = 'none';
                }
            }
        }
        
        // Initialize news carousel functionality
        function initializeNewsCarousel(totalSlides) {
            const track = document.getElementById('news-track');
            const prevBtn = document.getElementById('news-prev');
            const nextBtn = document.getElementById('news-next');
            const dots = document.querySelectorAll('.news-carousel-dot');
            
            if (!track || totalSlides <= 1) return;
            
            // Stop any existing autoplay before initializing
            stopNewsAutoPlay();
            
            // Set initial position
            currentNewsSlide = 0;
            updateNewsCarousel();
            
            // Event listeners for navigation
            if (prevBtn) {
                prevBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    currentNewsSlide = (currentNewsSlide - 1 + totalSlides) % totalSlides;
                    updateNewsCarousel();
                    resetNewsAutoPlay();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    currentNewsSlide = (currentNewsSlide + 1) % totalSlides;
                    updateNewsCarousel();
                    resetNewsAutoPlay();
                });
            }
            
            // Dot navigation
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentNewsSlide = index;
                    updateNewsCarousel();
                    resetNewsAutoPlay();
                });
            });
            
            // Touch/swipe support for mobile (disabled on mobile - only arrow navigation)
            const isMobile = window.innerWidth < 768;
            if (!isMobile) {
                track.addEventListener('touchstart', (e) => {
                    newsTouchStartX = e.changedTouches[0].screenX;
                });
                
                track.addEventListener('touchend', (e) => {
                    newsTouchEndX = e.changedTouches[0].screenX;
                    handleNewsSwipe();
                });
            }
            
            // Start auto-play (responsive - only on desktop)
            startNewsAutoPlay();
        }
        
        // Update news carousel position and indicators
        function updateNewsCarousel() {
            const track = document.getElementById('news-track');
            const dots = document.querySelectorAll('.news-carousel-dot');
            
            if (!track) return;
            
            // Check if we're on mobile
            const isMobile = window.innerWidth < 768;
            
            if (isMobile) {
                // Mobile: Use viewport width units for precise positioning
                track.style.transform = `translateX(-${currentNewsSlide * 100}vw)`;
            } else {
                // Desktop: Use percentage for grid layout
                track.style.transform = `translateX(-${currentNewsSlide * 100}%)`;
            }
            
            // Update dot indicators
            dots.forEach((dot, index) => {
                if (index === currentNewsSlide) {
                    dot.classList.add('bg-bluerep-blue');
                    dot.classList.remove('bg-gray-300', 'bg-gray-400');
                } else {
                    dot.classList.remove('bg-bluerep-blue');
                    dot.classList.add('bg-gray-300');
                }
            });
        }
        
        // Handle news swipe gestures
        function handleNewsSwipe() {
            const swipeThreshold = 50;
            const diff = newsTouchStartX - newsTouchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe left - next slide
                    const nextBtn = document.getElementById('news-next');
                    if (nextBtn) nextBtn.click();
                } else {
                    // Swipe right - previous slide
                    const prevBtn = document.getElementById('news-prev');
                    if (prevBtn) prevBtn.click();
                }
            }
        }
        
        // News auto-play functionality
        function startNewsAutoPlay() {
            const totalSlides = document.querySelectorAll('.news-carousel-dot').length;
            if (totalSlides <= 1) return;
            
            // Check if we're on mobile - disable autoplay on mobile
            const isMobile = window.innerWidth < 768;
            if (isMobile) {
                return; // Don't start autoplay on mobile
            }
            
            newsAutoPlayInterval = setInterval(() => {
                currentNewsSlide = (currentNewsSlide + 1) % totalSlides;
                updateNewsCarousel();
            }, 5000); // 5 second delay for news
        }
        
        function resetNewsAutoPlay() {
            if (newsAutoPlayInterval) {
                clearInterval(newsAutoPlayInterval);
                // Only restart autoplay if not on mobile
                const isMobile = window.innerWidth < 768;
                if (!isMobile) {
                    startNewsAutoPlay();
                }
            }
        }
        
        function stopNewsAutoPlay() {
            if (newsAutoPlayInterval) {
                clearInterval(newsAutoPlayInterval);
                newsAutoPlayInterval = null;
            }
        }
        
        // Load content when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadMoments();
            loadNews();
            loadEvents();
            
            // Handle responsive autoplay on initial load
            handleResponsiveNewsAutoplay();
        });
        
        // Handle responsive autoplay based on screen size
        function handleResponsiveNewsAutoplay() {
            const isMobile = window.innerWidth < 768;
            if (isMobile) {
                stopNewsAutoPlay();
            } else {
                // Only start autoplay if there are multiple slides
                const totalSlides = document.querySelectorAll('.news-carousel-dot').length;
                if (totalSlides > 1) {
                    startNewsAutoPlay();
                }
            }
        }
        
        // Handle window resize for responsive carousel
        window.addEventListener('resize', function() {
            // Debounce the resize event
            clearTimeout(window.resizeTimeout);
            window.resizeTimeout = setTimeout(function() {
                // Stop current autoplay
                stopNewsAutoPlay();
                // Reload news to adjust carousel layout
                loadNews();
                // Handle responsive autoplay after reload
                setTimeout(handleResponsiveNewsAutoplay, 100);
            }, 250);
        });
        
        // Contact Form Submission
        const contactForm = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');
        
        if (contactForm) {
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const submitButton = contactForm.querySelector('button[type="submit"]');
                const originalText = submitButton.textContent;
                
                // Show loading state
                submitButton.textContent = 'Sending...';
                submitButton.disabled = true;
                formStatus.className = 'hidden';
                
                try {
                    // Get form data
                    const formData = new FormData(contactForm);
                    const contactData = {
                        first_name: formData.get('first_name'),
                        last_name: formData.get('last_name'),
                        email: formData.get('email'),
                        subject: formData.get('subject'),
                        message: formData.get('message'),
                        created_at: new Date().toISOString()
                    };
                    
                    // Send to Supabase
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/contacts`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'apikey': SUPABASE_ANON_KEY,
                            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                        },
                        body: JSON.stringify(contactData)
                    });
                    
                    if (response.ok) {
                        // Success
                        formStatus.className = 'block text-center p-4 rounded-lg bg-green-100 text-green-800 border border-green-200';
                        formStatus.textContent = 'Thank you! Your message has been sent successfully. We\'ll get back to you soon.';
                        contactForm.reset();
                    } else {
                        throw new Error('Failed to send message');
                    }
                } catch (error) {
                    console.error('Error submitting form:', error);
                    formStatus.className = 'block text-center p-4 rounded-lg bg-red-100 text-red-800 border border-red-200';
                    formStatus.textContent = 'Sorry, there was an error sending your message. Please try again later.';
                } finally {
                    // Reset button state
                    submitButton.textContent = originalText;
                    submitButton.disabled = false;
                }
            });
        }
        
        // Initialize mobile menu when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing mobile menu');
            console.log('Mobile menu button:', mobileMenuBtn);
            console.log('Mobile menu:', mobileMenu);
            console.log('Close button:', closeMenuBtn);
            console.log('Mobile menu overlay:', mobileMenuOverlay);
            
            // Ensure all elements exist
            if (!mobileMenuBtn || !mobileMenu || !closeMenuBtn || !mobileMenuOverlay) {
                console.error('Mobile menu elements not found!');
                return;
            }
            
            // Test menu links
            const menuLinks = mobileMenu.querySelectorAll('.mobile-menu-nav a');
            console.log('Menu links found:', menuLinks.length);
            menuLinks.forEach((link, index) => {
                console.log(`Link ${index + 1}:`, link.textContent, link.href);
            });
        });
    </script>
</body>
</html> 